<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Amar Maksumić | Automotive & Embedded Systems Engineer</title>

  <!-- SEO & Social Media Meta Tags -->
  <meta name="description"
    content="Master's student in Computer & Systems Engineering specializing in automotive systems, embedded control, and advanced robotics at Rensselaer Polytechnic Institute.">
  <meta name="keywords"
    content="automotive engineering, embedded systems, control systems, autonomous vehicles, Formula SAE, computer vision, machine learning">
  <meta name="author" content="Amar Maksumić">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://amarmaksumic.github.io/">
  <meta property="og:title" content="Amar Maksumić | Automotive & Embedded Systems Engineer">
  <meta property="og:description"
    content="Master's student specializing in automotive systems and embedded control at RPI">
  <meta property="og:image" content="https://amarmaksumic.github.io/img/7.jpg">

  <!-- Favicons -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="css/modern.css">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Performance Optimizations -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">

  <!-- Critical CSS Inlined for Performance -->
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #f9fafb;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #e5e7eb;
      border-top: 4px solid #2563eb;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body>
  <!-- Loading Screen -->
  <div id="loading" class="loading">
    <div class="loading-spinner"></div>
  </div>

  <!-- Navigation -->
  <nav id="navbar_cont"></nav>

  <!-- Page Transition Stripe -->
  <div id="page_stripe"
    style="height: 100%; display: block; position: absolute; width: 0%; background-color: #f97316; z-index: 9999;">
  </div>

  <!-- Main Content -->
  <main id="page_cont">
    <div id="cont"></div>
    <footer id="footer"></footer>
  </main>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="js/modern.js"></script>
  <script src="js/navbar.js"></script>

  <!-- Analytics (Replace with your tracking ID) -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID"></script> -->

  <script>
    // Modern initialization
    $(document).ready(function () {
      initializePortfolio();
    });

    function initializePortfolio() {
      // Load components
      $('#navbar_cont').load('html/navbar.html', function () {
        // Initialize navigation after loading
        initializeNavigation();
      });

      // Load appropriate home page based on screen size
      const isMobile = window.matchMedia("(max-width: 1000px)").matches;
      $('#cont').load(isMobile ? 'html/m_home.html' : 'html/home.html', function () {
        // Initialize animations after content load
        initializeAnimations();
      });

      $('#footer').load('html/footer.html');

      // Set random background
      setRandomBackground();

      // Hide loading screen
      setTimeout(() => {
        $('#loading').fadeOut(300);
      }, 500);
    }

    function setRandomBackground() {
      const totalBackgrounds = 6;
      const randomNum = Math.ceil(Math.random() * totalBackgrounds);
      document.body.style.background = `url('img/background/${randomNum}.webp')`;
      document.body.style.backgroundRepeat = 'repeat';
      document.body.style.backgroundAttachment = 'fixed';
      document.body.style.backgroundSize = 'cover';
    }

    function initializeAnimations() {
      // Intersection Observer for scroll animations
      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('fade-in-up');
            }
          });
        });

        // Observe all sections
        document.querySelectorAll('.section').forEach(section => {
          observer.observe(section);
        });
      }
    }

    function initializeNavigation() {
      // Set initial active tab
      document.getElementById('tab_1')?.classList.add('active');

      // Initialize progress bar
      window.addEventListener('scroll', updateProgressBar);
    }

    function updateProgressBar() {
      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      const progressBar = document.getElementById('myBar');
      if (progressBar) {
        progressBar.style.width = scrolled + '%';
      }
    }
  </script>
</body>

</html>